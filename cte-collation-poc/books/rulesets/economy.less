@include ('../common/numbering.less');
//@include ('../common/parts.less');
div[data-type='chapter'] {
  section.conceptual-questions {
    move-to: eoc-conceptual-questions;
  }

  .eoc-conceptual-questions {
  //  .\=(exercise);

    > section h1.title {
      string-set: section-title content();
      content: '';

      &::span {
        class: 'titling';
        content: target-counter(attr(xhref), chapter) '.' target-counter(attr(xref), section);
      }
      &::span {
        class: 'titling';
        content: string(section-title);
      }
    }

    div[data-type='exercise'] {
    //  .\+(exercise);
    }
    div[data-type='problem'] {
      &::before {
        content: counter(exercise) '.';
        // If you needed to, you could also do this with
        // the internal cross references and target-counter
        // instead of "recounting" them here. Sometimes it's
        // basic and this "easy" way is fine, sometimes it isn't...
      }
    }
  }
}


div[data-type='chapter']::div {
  class: eoc-conceptual-questions;
  content: pending(eoc-conceptual-questions);
  group-by: "div[data-type='page']";
}
