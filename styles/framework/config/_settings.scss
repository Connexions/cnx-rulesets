
@function default-settings() {
  $DEFAULT_SETTINGS: (
    base-font-size: 12px,
    h1-font: font-map(serif),
    h1-title-color: color-map(h1-title),
    h2-font: font-map(serif),
    h2-title-color: color-map(h2-title),
    h3-font: font-map(serif),
    h3-title-color: color-map(h3-title),
    h4-font: font-map(serif),
    h4-title-color: color-map(h4-title),
    h5-font: font-map(serif),
    h5-title-color: color-map(h5-title),
  );
  @return $DEFAULT_SETTINGS;
}

@function settings($name) {
  @if map-has-key($settings, $name) {
    @return map-get($settings, $name);
  }
  @error "Unknown settings option: #{$name}";
}

$settings-manifest: ();
@mixin settings-merge($function) {
  $settings-manifest: append($settings-manifest, $function) !global;
  $settings: default-settings() !global;
  @each $map-get-function in $settings-manifest {
    $settings: map-merge($settings, call($map-get-function)) !global;
  }
}

// Ensure all default keys are available from $settings and settings()
$settings: default-settings() !default;
$settings: map-merge(default-settings(), $settings);
